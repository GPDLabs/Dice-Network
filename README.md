# Dice-Network
Dices Network is a DePIN (decentrlized physical infra network) project of bringing quantum random numbers to blockchains. 

> **1. Introduction**

Albert Einstein, the most famous physicist in the history, once questioned the randomness of quantum measurement in quantum mechanics as "God never play dice". However,  quantum randomness is proved by huge number of experiments till now and we know that "God does play dices". 

Since quantum mechanics is the physics of the microscopic world, all true randomness of our macroscopic world is indeed come from quantum randomness of the microscopic world. For example, random changes of DNA by quantum radiation (cosmos ray or nuclear decay) cause the evolution of life. Indeed, quantum randomness gives fair chances to the physical world instead of a determinism world, which is necessary for free will.

In the digital world, random numbers are not popular in centralized networks since all centers want everything under control. However, random numbers are necessary in decentralized networks to make many parameters uncontrollable and unpredictable by any node of the network. Oracle connect blockchains to real world data, and providing random numbers is a core function of an oracle. While current oracles use pseudo random numbers which are inherited from centralized networks. Pseudo-random numbers are indeed pre-determined, which can easily lead to security issues such as collisions and predictability. 

True random numbers can be only generated by physical noise sources to bring infinite possibilities to the world. Nowadays, small-size quantum random number generator (QRNG) chip is invented and millions of low-cost QRNG Chips are integrated into smart phones, e.g. Samsung Galaxy Quantum 1-4. It is the only quantum technology ready for consumer electronics now.

In order to bring true fair chances to decentralized networks, especially blockchains, quantum random numbers should play an important role, as they did in physical world. That means let "God play dices" in blockchains. 

Dices Network is a DePIN (decentrlized physical infra network) project of bringing quantum random numbers to blockchains. Since quantum randomness leads to undetermined chances and free will, Dices Network would make Web3 a truly fair Internet. 

![Image](https://github.com/users/GPDLabs/projects/1/assets/175085721/f9062465-2d60-4766-919f-40688b93d134)

Fig.1 Dices Network's logo 

Dices Network's logo is the probability distribution of an electron in (3,2,1) atomic orbit, which is the modulus square of the electron's wavefunction. It is a typical example of quantum randomness from the probability of finding an electron around a nuclei.

In this white paper, we present the network structure, technique scheme, and economy system of Dices Network. The task of Dices Network is to mining tokens by Proof-of-Randomness (PoR) consensus protocol and populize quantum random numbers as oracle service. The future of Dices Networkstep is a public blockchain called Dice Chain, which is based on PoR consensus protocol to improve blockchain performance. 


>  **2. Dice Network**

>>**2.1 Network structure** 

A Dice network has two kinds of nodes. One is QR, which means Quantum Randomness. The other is VQR, which means Verified Quantum Randomness.

A QR node is a terminal of quantum random number generation. Besides generating and storing quantum random numbers, a QR node also runs as a "mining machine". It sends quantum random numbers' hash values to a related VQR node for Proof-of-Randomness (PoR) "mining" (see 2.2).  

A VQR node is a server for decentralized cloud or edge computing. It stores hash values of quantum random numbers from QR nodes, and runs Proof-of-Randomness consensus to select winning QR nodes. It also runs as an oracle machine to output quantum random numbers from the winning QR nodes, while smart contracts can obtain verifiable quantum random numbers from the address of a VQR node. 

For fairness, every VQR node's algorithm is same and open. A VQR node has no function of generating quantum random numbers either. It only verifies quantum random numbers from related QR nodes.

![Image](https://github.com/users/GPDLabs/projects/1/assets/175085721/fbd5b561-e64a-46d6-80aa-4ad621aaac85)

Fig. 2 Structure of Dice Network. QR: Quantum Randomness node, VQR: Verifiable Quantum Randomness node. 

>>**2.2 Proof-of-Randomness consensus**

We have invented a proof-of-randomness (PoR) protocol for blockchain consensus, and released its whitepaper on arXiv: 
[https://arxiv.org/abs/2211.15417](url)

In blockchains, the proof-of-work (PoW) requires expensive hardwares and wastes electricity energy a lot, whcih mean only some big nodes with huge computing power could compete the rights of recording new blocks. Although proof-of-stake (PoS) saves 99% energy cost, the winning probability of a node recording a new block is proportional to the amount of crypto currency it stakes. This makes PoS prefer super rich nodes and maximum extractable value (MEV) attacks usually happen. 

The PoR protocol brings true fairness to blockchains. It is a randomized algorithm with true random numbers' hash value inputs, while the output is the hash value of the sum of all inputs. We call such new randomized algorithms as Macau, where the targets are not predetermined before any inputs. In contrast, both Monte Carlo and Las Vegas randomized algorithms have predetermined targets. 

![Image](https://github.com/users/GPDLabs/projects/1/assets/175085721/a57b7c96-c2fc-42e2-85c7-44c253f3c4c2)
Fig. 3 Simplified procedure of proof-of-randomness (PoR) protocol 

Therefore, we adopt PoR as the "mining" protocol of the quantum randomness network. Every QR node sends the SHA-256 hash value of its quantum random number to related VQR node, then a VQR node selects two winning QR nodes with PoR protocol.  

>>**2.3 Proof-of-Randomness mining**

The network produces verifiable quantum random numbers via PoR protocol mining. The mining protocol is called GPD-1. The process of GPD-1 is shown below. 

- Quantum random number generation. Due to the QRNG chip in a QR node, it generates quantum random number continuesly by a voltage. A certain 32Mb (4MB) length binary quantum random number QR(m,n) is saved in the nth QR node with a time round serial number m. 

- Test of true randomness. When QR(m,n) is saved, a test tool (NIST SP 800-22 randomness testsuit) runs to check whether QR(m,n) is true random. If QR(m,n) passes the test, its hash value will be calculated and saved together with the signature of the nth QR node. If QR(m,n) fails, it will be discarded.  

- Quantum random number upload. All QR nodes upload its quantum random numbers' SHA-256 hash value H(m,n)  to related VQR nodes together with timestamps and its signature. Due to the 200Kbps rate of the most widely used QRNG chip, an upload round of 3 min (180 sec) would be enough for collecting 32Mb quantum random numbers from each QR node. 

- Proof-of-randomness mining. As described in 2.2, a VQR node uses proof-of-randomness (PoR) protocol to select winning QR nodes. If a VQR node has N related QR nodes, it calculates the second hash value HS(m), which is the SHA-256 hash value of the sum of all QR nodes' hash value in Eq.(1).

$$HS(m)=hash[ \sum_{n=1}^{N} H(m,n) ]$$(1)

When a VQR node gets HS(m) in time round m, it selects a winner node whose H(m,n) is closest to HS(m). We call winner node's H(m,n) as H(m). If a QR node fails to upload its hash value in the time round m, its H(m,n) is zero and not selected. In time round m, QR node with H(m) uploads its original 32Mb quantum random numbers to be verified by the VQR node, and gets token bonus. 

>>**2.4 Quantum random number service**

When a VQR node outputs verifiable quantum random numbers like an oracle machine, it follows a protocol called Q-VRF. The process of Q-VRF is shown below.

- Verified quantum random number. After H(m) is obtained in time round m, the original 32Mb quantum random numbers QR(m) of H(m)'s QR node is verified by comparing its hash value to H(m). If they are the same, a final verified quantum random number VQR(m) is calculated by AES algorithm, where QR(m) is the data and HS(m) is the key. Even if only one QR node's H(m,n) is true random, its hash value is true random and HS(m) is true random. Therefore, the true randomness of VQR(m) is ensured. 

- Quantum random number output. When VQR(m) is ready, it becomes the output quantum random number in time round m+1. A smart contract asks for verified quantum random numbers from a VQR node in time round m+1 will get the VQR(m). In a time round, one VQR node only services one smart contract. Therefore, the performance of quantum random number service is proportional to the number of VQR nodes, which means more QR nodes and more mining.

![Image](https://github.com/users/GPDLabs/projects/1/assets/175085721/7e153a2d-1e3d-4001-9c99-d912b5fb088e)

Fig. 4 Relation between PoR mining and Quantum VRF


>**3. Technique Scheme**

>>**3.1 QR Hardwares**

A QR node is a compact, portable, and energy-efficient integrated mining machine with an embedded QRNG module. The central component of a QR node is a small ARM architecture computer with Linux operating systems. Basic performance of a QR node requires CPU processor frequency >1Ghz, memory >4GB, and hard disk capacity >256GB. A QR node also has standard  like wireless networking and Ethernet interfaces.

The QRNG module consists of a QRNG chip, a dedicated embedded processor, and a secure storage chip. QRNG module offers functions such as generating substantial quantum random numbers and typical hardware wallet capabilities. Nestled within the main platform's chassis, the QRNG module interfaces internally with the main platform and is managed by its drivers. 
Users can initiate the QR node setup through WiFi or Bluetooth, as well as establish a connection to the network via an Ethernet port. Each QR node is assigned a unique serial number and anti-counterfeiting key, ensuring legitimacy through secure authentication when accessing a network.

>>**3.2 VQR Hardwares**

A VQR node needs to realize the management of multiple QR nodes, verify the quality of the random numbers from the QR nodes, and complete the PoR protocol. So VQR nodes need to be higher performance. Generally, a typical configuration of a PC or a server is fine. The CPU has 4 cores or more with each core's process frequency > 2GHz. The memory is > 16GB, the capacity of the hard disk is > 1TB. 100 MB wireless network and Ethernet interfaces are also required.

>>**3.3  QR Softwares**

The QR software has two levels. The first level is the software operating on QR's Linux system as the backend software. The second level is the user App, which includes functions such as setting QR device parameters, querying statuses, and conducting transactions. 

The backend software on QR devices controls the QRNG module to generate random numbers, stores and manages these random numbers, responds to Proof of Randomness (PoR) requests sent from VQR devices, verifies the randomness of the numbers, calculates the hash values of specific random number segments and sends them to VQR devices, and communicates with user control devices (such as smart phones). It also has functions to send the complete random number to the VQR device if it wins a round in PoR.

>>**3.4 VQR Softwares**

The software on a VQR node runs in windows or Linux system. It is capable of initiating PoR protocol including setting the conditions (such as a timed event, special manual input), sending notifications to all associated QR devices, and receiving response signals as well as user hash values from the QR devices participating in PoR. It calculates the common hash value of all participating users' hash data and sorts the users by the proximity of their absolute values. According to the PoR winning rules, it notifies the winning users, collects the random numbers from the winning users, and performs quality and legality checks. After the checks pass, it publishes the final results to all QR users and sends rewards to the winning QR users.


>**4. Roadmap**

Dice Network aims to provide secure, reliable, and cost-effective random number services for Web3, promoting fundemental consensus of blockchains with PoR protocol and creating more exciting applications in the Web3. Our roadmap is arranged in two phases:

- Phase One: Dice Network. We will establish a quantum randomness network to ensure the availability of random number services, enhance the quality and performance of on-chain random numbers, and reduce the cost of dApp using random numbers.

- Phase Two: Dice Chain. We will build a quantum random number blockchain with PoR consensus protocols and economic incentives to achieve decentralization, scalability and high security at same time.

>>**4.1 Dice Network phase**

| Phase | Design | pre-launch | after launch |
| --- | --- | --- | --- |
| Protocols | PoR protocol, Q-VRF |  |  |
| Mining Hardware | hardware design | demo & small batch production |  |
| Mining Software | module partitioning and function definition |tool chain & OTA system |  |
| Mining Management System | multi-factor mining rating | backend service |  |
| Mining APP | Android |  |  |
| Smart Contracts | architecture | token contract & oracle contracts | staking contract & NFT contracts |
| Documents | white paper & protocol | mining user manual | SDK documents |
| Community |  | galxe/zealy tasks & Discord/telegram Forum | series writing & online activities |

>>**4.2 Dice Chain phase**

When the Dice Network is relatively big, a quantum randomness blockchain "Dice Chain" is necessary.  We can upgrade QR nodes to heavy QR nodes (HQR) with much more computing power and storage space to run this Dice Chain. VQR nodes are still there to verify all quantum random numbers, while token ledgers are taken over by heavy QR nodes.

Dice Chain may give a solution to blockchain trilemma. Its network structure is inherited from Dice Network, which is well decentralized. PoR protocol can improve the consensus efficiency of Dice Chain to support a 100k tps transcating rate, which makes Dice Chain scalable. PoR protocol also generates unpredictable blocks with very low energy cost, where security is ensured. Dice Chain's wallets can adopt PQC algorithm with quantum random private keys to defend against futher quantum computers.   

![Image](https://github.com/users/GPDLabs/projects/1/assets/175085721/2945c209-7f3c-4d18-9c04-0fa348b09625)

Fig. 5 Structure of Dice Chain. HQR: Heavy Quantum Randomness node, VQR: Verifiable Quantum Randomness node.  


>**5. Economy system**

>>**5.1 Token Mint**

Mining tokens by QR nodes produces the main value of Dice Network. At same time, Dice Network can provide an Oracle service of true random numbers to get payment. Therefore, it is natural to connect the initial value of tokens and the price of Oracle service.

As described in 2.4, the Oracle service provides VQR(m) each mining round, which is a 32Mb quantum random number array. Since QR(m) is the original quantum random number array from the winning node, and VQR(m) is the AES encrypted result of QR(m) by the second hash value HS(m), it is a kind of computer processed information which has an added value with tokens. Analogically, it is like the added value from tap-water to bottled purified water. The QR(m) acts like tap-water, and VQR(m) acts like bottled purified water.

In Dice Network, we name the token as GPD. For each round of mining, the winning QR node obtains 32 GPDs as bonus. After 1,000,000 rounds, the bonus will be reduced to one-half, which is 16 GPDs. After another 1,000,000 rounds,  the bonus will be reduced to 8 GPDs... Finally, the total amount of GPD is 64,000,000.


# #
